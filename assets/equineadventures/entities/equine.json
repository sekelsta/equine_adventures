{
    code: "equine",
    class: "EntityAgent",
    tagsByType: {
        "*-foal": ["animal", "huntable", "habitat-land"],
        "*": ["animal", "huntable", "adult", "habitat-land"],
    },
    variantgroups: [
        { code: "type", states: ["zebra-imperial"] },
        { code: "age", states: ["adult", "foal"] },
        { code: "gender", states: ["male", "female"] }
    ],
    hitBoxSizeByType: {
        "equine-*-adult-*": { x: 1.67, y: 1.5 },
        "*": { "x": 0.9,"y": 1.3}
    },
    deadhitBoxSizeByType: {
        "equine-*-adult-*": { x: 1.67, y: 0.75 },
        "*": { "x": 0.9,"y": 0.5}
    },
    eyeHeightByType: {
        "equine-*-adult-*": 1.5,
        "*": 0.6
    },
    weightByType: {
        "equine-zebra-imperial-adult-*": 375,
        "equine-zebra-imperial-foal-*": 75,
    },
    drops: [],
    attributes: {
        killedByInfoText: "deadcreature-hoofkicked",
        creatureDiet: {
            foodCategories: ["Vegetable", "Grain", "Fruit"],
            foodTags: ["nibbleCrop", "grass", "vegetable", "foliage", "hay", "fruitmash" ],
            skipFoodTags: [ "riceCrop", "parsnipCrop", "onion", "cassava" ],
        },
        trappableByType: {
            "*-foal-*": {
                "small": { trapChance: 0.0, trapDestroyChance: 0.2 },
                "large": { trapChance: 0.4, trapDestroyChance: 0 }
            },
            "*": {
                "small": { trapChance: 0.0, trapDestroyChance: 0.2 },
                "large": { trapChance: 0.0, trapDestroyChance: 0.1 }
            },
        },
        handbook: {
            groupcode: "creaturegroup-equine"
        },
        adultWeightKgByType: {
            "equine-horse-tarpan-*": 408,
            "equine-horse-takhi-*": 285,
            "equine-ass-donkey-*": 260,
            "equine-ass-kiang-*": 325,
            "equine-ass-onager-*": 230,
            "equine-zebra-plains-*": 240,
            "equine-zebra-mountain-*": 245,
            "equine-zebra-imperial-*": 375,

        },
        weightDimorphismByType: {
            "equine-zebra-*": 0.05,
            "*": 0.12,
        }
    },
    behaviorConfigs: {
        animalHunger: {
            monthsUntilWeaned: 8,
            fiber: 0.7,
            sugar: 0.07,
            fat: 0.02,
            fatMax: 0.2,
            starch: 0.07,
            starchMax: 0.3,
            protein: 0.12,
            water: 1.0,
            minerals: 0.02,
            mineralsMax: 0.1,
            avoidFoodTags: [ "sour" ],
            specialties: [ "toughplant" ],
            fiberDigestion: 1.0,
            grazeMethodsByType: {
                "*-foal": ["nibblegraze"],
                "*": ["graze"],
            },
        },
        emotionstates: {
            states: [
                {
                    code: "fleeondamage",
                    whenHealthRelBelow: 0.4,
                    duration: 60,
                    chanceByType: {
                        "*-adult-male": 0.95,
                        "*": 1.0
                    },
                    slot: 0,
                    priority: 5,
                    accumType: "max"
                },
                {
                    code: "fleeondamage",
                    duration: 40,
                    chanceByType: {
                        "*-adult-male": 0.85,
                        "*": 1.0
                    },
                    slot: 0,
                    priority: 1,
                    accumType: "max"
                },
                {
                    code: "alarmherdondamage",
                    chance: 1,
                    slot: 1,
                    priority: 1,
                    accumType: "max"
                },
                {
                    code: "aggressiveondamage",
                    duration: 30,
                    chanceByType: {
                        "*-adult-male": 0.5,
                        "*": 0.0
                    },
                    slot: 0,
                    priority: 2,
                    accumType: "noaccum"
                },
                {
                    code: "saturated",
                    duration: 1200,
                    chance: 1,
                    slot: 0,
                    priority: 1,
                    accumType: "sum"
                }
            ]
        },
        deaddecay: {
            hoursToDecay: 96,
            decayedBlockByType: {
                "*-adult": "carcass-large",
                "*-yearling": "carcass-large",
                "*": "carcass-medium"
            }
        },
        despawn: {
            minPlayerDistance: 8,
            belowLightLevel: 2,
            minSeconds: 900
        },
        health: {
            maxhealthByType: {
                "*-adult": 35,
                "*-foal": 10
            }
        },
        taskai: {
            aiCreatureType: "LandCreature",
            aitasks: [
                {
                    code: "meleeattack",
                    animation: "Bite",
                    enabledByType: {
                        "*-foal": false,
                        "*": true
                    },
                    entityCodes: [ "player", "wolf-*", "bear-*", "hyena-*", "fox-*", "caninae-*", "machairodontinae-*", "pantherinae-*", "varanus-*", "blackrat", "chainviper", "coachwhip", "pitviper" ],
                    priority: 3,
                    damageByType: {
                        "equine-zebra-*-adult-male": 8,
                        "equine-zebra-*-adult-female": 6,
                        "equine-*-adult-male": 6,
                        "equine-*-adult-female": 4,
                    },
                    damageTier: 2,
                    damageType: "SlashingAttack",
                    slot: 1,
                    mincooldown: 1500,
                    maxcooldown: 2500,
                    attackDurationMs: 1250,
                    damagePlayerAtMs: 500,
                    animationSpeed: 2.5,
                    whenInEmotionState: "aggressiveondamage"
                },
                {
                    code: "fleeentity",
                    animation: "Gallop",
                    entityCodes: [ "player", "wolf-*", "hyena-male", "hyena-*", "bear-*", "caninae-cerdocyonina-adult-*-chrysocyon-brachyurus", "caninae-cerdocyonina-adult-*-dusicyon-australis", "caninae-cerdocyonina-adult-*-dusicyon-avus", "caninae-cerdocyonina-adult-*-speothos-pacivorus", "caninae-canina-adult-*", "machairodontinae-adult-*" ],
                    priority: 1.51,
                    movespeedByType: {
                        "equine-*-adult-*": 0.06,
                        "equine-*-foal-*": 0.05
                    },
                    seekingRange: 14,
                    animationSpeed: 2
                },
                {
                    code: "fleeentity",
                    animation: "Gallop",
                    entityCodes: [ "varanus-adult-salvator", "varanus-adult-marmoratus", "varanus-adult-palawanensis", "varanus-adult-komodoensis", "blackrat", "chainviper", "coachwhip", "pitviper" ],
                    priority: 1.49,
                    movespeedByType: {
                        "equine-*-adult-*": 0.06,
                        "equine-*-foal-*": 0.05
                    },
                    seekingRange: 6,
                    animationSpeed: 2
                },
                {
                    code: "seekentity",
                    animation: "Trot",
                    enabledByType: {
                        "*-adult-male": true,
                        "*": false
                    },
                    entityCodes: [ "player", "wolf-*", "hyena-*", "caninae-cerdocyonina-male-chrysocyon-brachyurus", "caninae-cerdocyonina-female-chrysocyon-brachyurus", "caninae-cerdocyonina-male-dusicyon-australis", "caninae-cerdocyonina-female-dusicyon-australis", "caninae-cerdocyonina-male-dusicyon-avus", "caninae-cerdocyonina-female-dusicyon-avus", "caninae-cerdocyonina-male-speothos-pacivorus", "caninae-cerdocyonina-female-speothos-pacivorus" ],
                    priority: 1.6,
                    mincooldown: 600,
                    maxcooldown: 650,
                    movespeed: 0.02,
                    seekingRange: 20,
                    animationSpeed: 1,
                    whenInEmotionState: "aggressiveondamage"
                },
                {
                    code: "stayclosetoentity",
                    animation: "Trot",
                    enabledByType: {
                        "*-foal": true,
                        "*": false
                    },
                    priority: 1.4,
                    entityCodeByType: {
                        "*": "equine-{type}-adult-female"
                    },
                    movespeed: 0.02,
                    animationSpeed: 3,
                    maxDistance: 5,
                    searchRange: 25
                },
                {
                    code: "getoutofwater",
                    animation: "Swim",
                    priority: 1.4,
                    movespeedByType: {
                        "equine-*-adult-*": 0.035,
                        "equine-*-foal-*": 0.025,
                    },
                    animationSpeed: 1
                },
                {
                    code: "idle",
                    animation: "Idle",
                    priority: 0.9,
                    minduration: 6000,
                    maxduration: 45000,
                    mincooldown: 6000,
                    maxcooldown: 120000,
                    priorityForCancel: 1.28,
                    stopOnNearbyEntityCodes: [ "player", "wolf-*", "hyena-*", "bear-*", "caninae-*" ],
                    stopRange: 10,
                    stopOnHurt: true,
                    sound: "game:creature/hooved/generic/sniff*"
                },
                {
                    code: "idle",
                    animation: "Sleep",
                    enabled: false,
                    priority: 1.38,
                    minduration: 200000,
                    maxduration: 800000,
                    mincooldown: 10000,
                    maxcooldown: 30000,
                    priorityForCancel: 1.38,
                    whenNotInEmotionState: "aggressiveondamage",
                    duringDayTimeFrames: [
                        {
                            "fromHour": 10,
                            "toHour": 18
                        },
                        {
                            "fromHour": 1,
                            "toHour": 4
                        }
                    ],
                    stopOnNearbyEntityCodes: [ "player", "wolf-*", "hyena-*", "bear-*", "caninae-*" ],
                    stopRange: 8,
                    stopOnHurt: true
                },
                {
                    code: "idle",
                    animation: "Sit",
                    enabled: false,
                    priority: 0.9,
                    minduration: 6000,
                    maxduration: 45000,
                    mincooldown: 6000,
                    maxcooldown: 120000,
                    priorityForCancel: 1.28,
                    stopOnNearbyEntityCodes: [ "player", "wolf-*", "hyena-*", "bear-*", "caninae-*" ],
                    stopRange: 10,
                    stopOnHurt: true
                },
                {
                    code: "wander",
                    animation: "Trot",
                    priority: 1.0,
                    priorityForCancel: 1.35,
                    stopOnNearbyEntityCodes: [ "player", "wolf-*", "hyena-*", "bear-*", "caninae-*" ],
                    movespeedByType: {
                        "*-foal-*": 0.02,
                        "*": 0.02
                    },
                    animationSpeedByType: {
                        "*-foal": 1.0,
                        "*": 1.0
                    },
                    "preferredLightLevel": 12
                },
                {
                    code: "wander",
                    enabled: false,
                    animation: "Walk",
                    priority: 1.0,
                    priorityForCancel: 1.35,
                    stopOnNearbyEntityCodes: [ "player", "wolf-*", "hyena-*", "bear-*", "caninae-*" ],
                    movespeedByType: {
                        "*-foal-*": 0.006,
                        "*": 0.006
                    },
                    animationSpeedByType: {
                        "*-foal": 1.0,
                        "*": 1.0
                    },
                    "preferredLightLevel": 12
                },
                {
                    code: "seekfoodandeat",
                    movespeedByType: {
                        "equine-*-adult": 0.006,
                        "*-foal": 0.004
                    },
                    priority: 1.39,
                    eatSound: "game:creature/animal-eat-small",
                    eatTime: 1.5,
                    eatLooseItems: true,
                    animationSpeedByType: {
                        "equine-*-adult": 1.5,
                        "*-foal": 1.1
                    },
                    animation: "Walk",
                    eatAnimation: "Graze",
                    mincooldownHours: 0,
                    maxcooldownHours: 0.05,
                    nurseFromEntities: ["game:equine-{type}-adult-female"]
                },
                {
                    code: "lookaround",
                    priority: 0.5
                }
            ]
        },
    },
    client: {
        renderer: "Shape",
        shape: { base: "entity/equine/zebra-imperial-{age}" },
        texture: { base: "entity/equine/zebra-imperial-{age}" },
        behaviors: [
            { code: "repulseagents" },
            {
                code: "controlledphysics",
                stepHeightByType: {
                    "*-kiang-*" : 3.125,
                    "*-ass-*": 2.75,
                    "*-zebra-mountain-*": 2.5,
                    "*-zebra-imperial-*": 2.125,
                    "*": 1.75
                }
            },
            { code: "interpolateposition" },
            { code: "floatupwhenstuck", onlyWhenDead: true },
            { code: "multiply", enabledByType: { "*-adult-female": true, "*": false } },
            { code: "harvestable" },
            { code: "despawn", minPlayerDistance: 16, belowLightLevel: 2, "minSeconds": 900 },
            { code: "milkable", enabledByType: { "*-adult-female": true, "*": false } },
            { code: "grow" },
            { code: "ropetieable", minGeneration: 2 },
        ],
        animations: [
            {
                code: "bite",
                animation: "Bite",
                animationSpeed: 2.2,
                weight: 10,
                blendMode: "AddAverage"
            },
            {
                code: "hurt",
                animation: "Hurt",
                animationSpeed: 2.2,
                weight: 10,
                blendMode: "AddAverage"
            },
            {
                code: "die",
                animation: "Die",
                easeInSpeed: 3,
                animationSpeedByType: {
                    "*-adult": 0.8,
                    "*-foal": 1.0
                },
                weight: 10,
                blendMode: "Average",
                triggeredBy: { onControls: [ "dead" ] }
            },
            {
                code: "idle",
                animation: "Idle",
                blendMode: "AddAverage",
                easeOutSpeed: 4,
                triggeredBy: { defaultAnim: true }
            },
            {
                code: "sleep",
                animation: "Sleep",
                easeInSpeed: 4,
                easeOutSpeed: 4,
                blendMode: "Average"
            },
            {
                code: "sit",
                animation: "Sit",
                easeInSpeed: 4,
                easeOutSpeed: 4,
                blendMode: "Average"
            },
            {
                code: "graze",
                animation: "Graze",
                easeInSpeed: 4,
                easeOutSpeed: 4,
                blendMode: "Average"
            },
            {
                code: "swim",
                animation: "Swim",
                supressDefaultAnimation: true,
                blendMode: "Average"
            },
            {
                code: "walk",
                animation: "Walk",
                supressDefaultAnimation: true,
                blendMode: "AddAverage"
            },
            {
                code: "trot",
                animation: "Trot",
                supressDefaultAnimation: true,
                blendMode: "AddAverage"
            },
            {
                code: "gallop",
                animation: "Gallop",
                supressDefaultAnimation: true,
                blendMode: "AddAverage"
            }    
        ]
    },
    server: {
        attributes: {
            pathfinder: {
                minTurnAnglePerSec: 90,
                maxTurnAnglePerSec: 180
            }
        },
        behaviors: [
            { code: "repulseagents" },
            {
                code: "controlledphysics",
                stepHeightByType: {
                    "*-kiang-*" : 3.125,
                    "*-ass-*": 2.75,
                    "*-zebra-mountain-*": 2.5,
                    "*-zebra-imperial-*": 2.125,
                    "*": 1.75
                }
            },
            { code: "despawn" },
            {  code: "health" },
            { code: "deaddecay" },
            { code: "floatupwhenstuck", onlyWhenDead: true },
            {
                code: "harvestable",
                drops: [
                    {
                        type: "item",
                        code: "game:redmeat-raw",
                        quantityByType: {
                            "*-foal-*": { avg: 3, var: 2 },
                            "equine-horse-tarpan-*": { avg: 51, var: 0 },
                            "equine-horse-takhi-*": { avg: 36, var: 0 },
                            "equine-ass-kiang-*": { avg: 40, var: 0 },
                            "equine-zebra-imperial-*": { avg: 47, var: 0 },
                            "*": { avg: 30, var: 0 },
                        }
                    },
                    {
                        type: "item",
                        code: "game:fat",
                        quantityByType: {
                            "*-foal-*": { avg: 0.5, var: 0.1 },
                            "equine-horse-tarpan-*": { avg: 8, var: 0 },
                            "equine-horse-takhi-*": { avg: 6, var: 0 },
                            "equine-ass-kiang-*": { avg: 7, var: 0 },
                            "equine-zebra-imperial-*": { avg: 8, var: 0 },
                            "*": { avg: 5, var: 0 },
                        }
                    },
                    {
                        type: "item",
                        code: "hide-raw-huge",
                        quantityByType: {
                            "*-foal-*": { avg: 0, var: 0 },
                            "equine-horse-tarpan-*": { avg: 1.8, var: 0 },
                            "equine-horse-takhi-*": { avg: 1.4, var: 0 },
                            "equine-ass-kiang-*": { avg: 1.6, var: 0 },
                            "equine-zebra-imperial-*": { avg: 1.7, var: 0 },
                            "*": 1.3,
                        }
                    },
                    {
                        type: "item",
                        code: "hide-raw-medium",
                        quantityByType: {
                            "*-adult-*": { avg: 0, var: 0 },
                            "equine-horse-tarpan-*": { avg: 6.9, var: 0 },
                            "equine-horse-takhi-*": { avg: 5.4, var: 0 },
                            "equine-ass-donkey-*": { avg: 5.1, var: 0 },
                            "equine-ass-kiang-*": { avg: 5.9, var: 0 },
                            "equine-ass-onager-*": { avg: 4.7, var: 0 },
                            "equine-zebra-plains-*": { avg: 4.8, var: 0 },
                            "equine-zebra-mountain-*": { avg: 4.9, var: 0 },
                            "equine-zebra-imperial-*": { avg: 6.5, var: 0 },
                        }
                    },
                ],
            },
            { code: "breathe" },
            {
                code: "multiply",
                enabledByType: { "*-adult-female": true, "*": false },
                spawnEntityCodes: [ { code: "equine-{type}-foal-male" }, { code: "equine-{type}-foal-female" } ],
                requiresNearbyEntityCode: [ "equine-{type}-adult-male" ],
                pregnancyDaysByType: { 
                    "equine-horse-*": 55,
                    "equine-ass-*": 60,
                    "equine-zebra-mountain-*": 60,
                    "equine-zebra-imperial-*": 55,
                    "equine-zebra-*": 62,
                },
                pregnancyMonthsByType: { 
                    "equine-horse-*": 11,
                    "equine-ass-*": 12,
                    "equine-zebra-mountain-*": 12,
                    "equine-zebra-imperial-*": 13,
                    "equine-zebra-*": 12.4
                },
                cooldownDaysMin: 55,
                cooldownDaysMax: 60,
                cooldownMonthsMin: 11.0,
                cooldownMonthsMax: 12.0,
                lactationMonths: 6.0,
                estrousCycleMonths: 0.93,
                daysInHeat: 2.0,
                breedingSeason: "longday",
                spawnQuantityMin: 1,
                spawnQuantityMax: 1.0001,
                litterAddChanceByType: {
                    "equine-ass-*": 0.0005,
                    "*": 0.0002,
                },
                litterAddAttempts: 2,
            }, 
            { code: "milkable", enabledByType: { "*-adult-female": true, "*": false } },
            { 
                code: "grow",
                hoursToGrowByType: {
                    "*-adult": 36.0,
                    "*": 660.0,
                },
                adultEntityCodeByType: {
                    "*-foal": "equineadventures:equine-{type}-{gender}-adult",
                },
                monthsToGrowByType: {
                    "*-adult": 36.0,
                    "*": 12.0,
                },
                startAgeMonthsByType: {
                    "*-adult": 24.0,
                    "*-yearling": 12.0,
                },
                initialWeightByType: {
                    "*-foal": 0.1,
                    "*-yearling": 0.7,
                    "*": 0.95,
                },
            },
            { code: "emotionstates" },
            { code: "taskai" },
            {
                code: "pettable",
                minGeneration: 1
            },
        ],
        spawnconditions: {
            worldgen: {
                triesPerChunk: { avg: 0, var: 0 },
                tryOnlySurface: true,
                groupSize: { avg: 2, var: 3 },
                insideBlockCodes: ["game:air", "game:tallgrass-*", "game:snowlayer-1"],
                companions: ["equine-{type}-adult-female", "equine-{type}-foal-female", "equine-{type}-foal-male"]
            },
            runtime: {
                group: "neutral",
                maxQuantity: 0,
                tryOnlySurface: true,
                chance: 0.005,
                minLightLevel: 10,
                groupSize: { avg: 2.0, var: 3.0 },
                maxQuantityByGroup: { code: "equine-*", "maxQuantity": 8 },
                insideBlockCodes: [ "game:air", "game:soil-*","game:gravel-*", "game:tallgrass-*", "game:snowlayer-1", "game:sand-*"],
                companions: ["equine-{type}-adult-female", "equine-{type}-yearling-female", "equine-{type}-yearling-male", "equine-{type}-foal-female", "equine-{type}-foal-male"]
            }
        },
        spawnconditionsByType: {
            "equine-horse-*-adult": {
                climate: {
                    minTempByType: {
                        "*-tarpan-*": -15,
                        "*-takki-*": -25
                    },
                    maxTempByType: {
                        "*-tarpan-*": 20,
                        "*-takki-*": 5
                    },
                    minRain: 0.25,
                    minForestOrShrubs: 0.0,
                    maxForestByType: {
                        "*-tarpan-*": 0.5,
                        "*-takki-*": 0.25
                    },
                    maxShrubsByType: {
                        "*-tarpan-*": 0.7,
                        "*-takki-*": 0.4
                    },
                    minY: 0.9,
                    maxY: 1.2
                },
                worldgen: {
                    groupSize: { avg: 4.0, var: 3.0 },
                    triesPerChunk: { avg: 0.006, var: 0 }
                },
                runtime: {
                    groupSize: { avg: 5.0, var: 3.0 }
                }
            },
            "equine-ass-*-adult": {
                climate: {
                    minTempByType: {
                        "*-donkey-*": 15,
                        "*-onager-*": 0,
                        "*-kiang-*": 0
                    },
                    maxTempByType: {
                        "*-donkey-*": 40,
                        "*-onager-*": 30,
                        "*-kiang-*": 20
                    },
                    minRain: 0.05,
                    minForestOrShrubs: 0.0,
                    maxForestByType: {
                        "*-donkey-*": 0.2,
                        "*-onager-*": 0.3,
                        "*-kiang-*": 0.2
                    },
                    maxShrubsByType: {
                        "*-donkey-*": 0.8,
                        "*-onager-*": 0.8,
                        "*-kiang-*": 0.3
                    },
                    minYByType: {
                        "*-donkey-*": 0.9,
                        "*-onager-*": 0.9,
                        "*-kiang-*": 1.2
                    },
                    maxYByType: {
                        "*-donkey-*": 1.2,
                        "*-onager-*": 1.5,
                        "*-kiang-*": 1.9
                    }                
                },
                worldgen: {
                    triesPerChunk: { avg: 0.006, var: 0 }
                },
                runtime: {
                    groupSize: { avg: 1.0, var: 2.0 }
                }
            },
            "equine-zebra-*-adult": {
                climate: {
                    minTemp: 10,
                    maxTemp: 30,
                    minRainByType: {
                        "*-imperial-*": 0.05,
                        "*": 0.25
                    },
                    minForestOrShrubs: 0.0,
                    maxForest: 0.4,
                    maxShrubsByType: {
                        "*-imperial-*": 1.0,
                        "*": 0.5
                    },
                    minYByType: {
                        "*-mountain-*": 1.2,
                        "*": 0.9
                    },
                    maxYByType: {
                        "*-mountain-*": 1.6,
                        "*": 1.4
                    } 
                },
                worldgen: {
                    triesPerChunk: { avg: 0.006, var: 0 }
                },
                runtime: {
                    groupSizeByType: {
                        "*-imperial-*": { avg: 1.0, var: 2.0 },
                        "*-mountain-*": { avg: 2.0, var: 3.0 },
                        "*": { avg: 5.0, var: 3.0 }
                    }
                }
            }
        }
    }
}
